{% extends "base.html" %}

{% block content %}
<div class="container-fluid">
    <section class="dashboard-header">
        <h1>üìä Dashboard de Business Intelligence - Calidad del Agua</h1>
        <p>An√°lisis de 4.3 millones de mediciones de 497 sensores IoT</p>
    </section>

    <section class="dashboard-container">
        <!-- Power BI Report Embed -->
        <iframe 
            title="Sistema BI Calidad de Agua" 
            width="100%" 
            height="650" 
            src="https://app.powerbi.com/view?r=eyJrIjoiMjczNjZkMDQtNDVkYi00MjkzLTg5NDQtMzUxNjIzMGFiZmE0IiwidCI6IjA3ZGE2N2EwLTFmNDMtNGU4Yy05NzdmLTVmODhiNjQ3MGVlNiIsImMiOjR9" 
            frameborder="0" 
            allowFullScreen="true"
            style="border: none; border-radius: 8px; box-shadow: 0 2px 15px rgba(0,0,0,0.1);">
        </iframe>
    </section>

    <section class="instructions">
        <h3>üí° Instrucciones de uso del Dashboard</h3>
        <ul>
            <li><strong>Filtros:</strong> Utiliza los filtros laterales para explorar datos por municipio, propiedad o sensor</li>
            <li><strong>Interactividad:</strong> Haz clic en cualquier elemento del gr√°fico para aplicar filtros cruzados</li>
            <li><strong>Navegaci√≥n:</strong> Usa las pesta√±as inferiores para cambiar entre diferentes p√°ginas del reporte</li>
            <li><strong>Drill-down:</strong> Haz clic derecho en elementos para explorar niveles m√°s detallados</li>
            <li><strong>Tooltips:</strong> Pasa el cursor sobre los gr√°ficos para ver informaci√≥n detallada</li>
        </ul>
        
        <h3 style="margin-top: 2rem;">üìà P√°ginas Disponibles en el Reporte</h3>
        <p style="color: #666;">El dashboard contiene m√∫ltiples p√°ginas con an√°lisis especializados:</p>
        <ul>
            <li><strong>Resumen Ejecutivo:</strong> KPIs principales y estado general del sistema</li>
            <li><strong>An√°lisis por Par√°metro:</strong> Detalles de cada uno de los 10 par√°metros monitoreados</li>
            <li><strong>An√°lisis Temporal:</strong> Tendencias y patrones a lo largo del tiempo</li>
            <li><strong>An√°lisis Geogr√°fico:</strong> Distribuci√≥n por municipios y propiedades</li>
            <li><strong>Alertas y Anomal√≠as:</strong> Identificaci√≥n de valores cr√≠ticos y outliers</li>
            <li><strong>Cumplimiento Normativo:</strong> Porcentaje de cumplimiento vs. est√°ndares</li>
        </ul>
    </section>

    <section class="dashboard-container" style="margin-top: 2rem;">
        <h3 style="color: #1565c0; margin-bottom: 1rem;">üî¨ Par√°metros Monitoreados</h3>
        <div class="stats-grid">
            <div class="stat-card">
                <h4>pH</h4>
                <div class="stat-label">Acidez/Alcalinidad</div>
            </div>
            <div class="stat-card">
                <h4>O‚ÇÇ Disuelto</h4>
                <div class="stat-label">Oxigenaci√≥n</div>
            </div>
            <div class="stat-card">
                <h4>Cloro Residual</h4>
                <div class="stat-label">Desinfecci√≥n</div>
            </div>
            <div class="stat-card">
                <h4>Amonio</h4>
                <div class="stat-label">Contaminaci√≥n</div>
            </div>
            <div class="stat-card">
                <h4>Turbidez</h4>
                <div class="stat-label">Claridad</div>
            </div>
            <div class="stat-card">
                <h4>Conductividad</h4>
                <div class="stat-label">Sales Disueltas</div>
            </div>
            <div class="stat-card">
                <h4>TDS</h4>
                <div class="stat-label">S√≥lidos Totales</div>
            </div>
            <div class="stat-card">
                <h4>Redox</h4>
                <div class="stat-label">Oxidaci√≥n</div>
            </div>
            <div class="stat-card">
                <h4>Temperatura</h4>
                <div class="stat-label">T√©rmica</div>
            </div>
            <div class="stat-card">
                <h4>Nivel</h4>
                <div class="stat-label">Profundidad</div>
            </div>
        </div>
    </section>
</div>
{% endblock %}
